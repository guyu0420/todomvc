{"version":3,"sources":["webpack:///webpack/bootstrap 7781f39d52176495df28","webpack:///./js/app.js","webpack:///./js/controller.js","webpack:///./js/helpers.js","webpack:///./js/model.js","webpack:///./js/store.js","webpack:///./js/template.js","webpack:///./js/view.js","webpack:///./node_modules/todomvc-common/base.js"],"names":["require","Todo","name","storage","app","Store","model","Model","template","Template","view","View","controller","Controller","todo","setView","document","location","hash","$on","window","self","bind","title","addItem","item","editItem","id","editItemSave","editItemCancel","removeItem","toggleComplete","completed","removeCompletedItems","status","toggleAll","prototype","locationHash","route","split","page","_updateFilterState","showAll","read","data","render","showActive","showCompleted","trim","create","_filter","length","update","remove","forEach","silent","_updateCount","getCount","todos","active","visible","checked","total","force","activeRoute","_activeRoute","charAt","toUpperCase","substr","_lastActiveRoute","currentPage","qs","selector","scope","querySelector","qsa","querySelectorAll","target","type","callback","useCapture","addEventListener","$delegate","handler","dispatchEvent","event","targetElement","potentialElements","hasMatch","Array","indexOf","call","$parent","element","tagName","parentNode","toLowerCase","NodeList","newItem","save","query","queryType","findAll","parseInt","find","removeAll","drop","_dbName","localStorage","JSON","stringify","parse","filter","q","updateData","i","key","Date","getTime","push","splice","htmlEscapes","escapeHtmlChar","chr","reUnescapedHtml","reHasUnescapedHtml","RegExp","source","escape","string","test","replace","defaultTemplate","show","l","itemCounter","activeTodos","plural","clearCompletedButton","completedTodos","ENTER_KEY","ESCAPE_KEY","$todoList","$todoItemCounter","$clearCompleted","$main","$footer","$toggleAll","$newTodo","_removeItem","elem","removeChild","_clearCompletedButton","completedCount","innerHTML","style","display","_setFilter","className","_elementComplete","listItem","_editItem","input","createElement","appendChild","focus","value","_editItemDone","label","textContent","viewCmd","parameter","viewCommands","showEntries","updateElementCount","contentBlockVisibility","setFilter","clearNewTodo","elementComplete","editItemDone","_itemId","li","dataset","_bindItemEditDone","iscanceled","keyCode","blur","_bindItemEditCancel","_","defaults","object","argsIndex","argsLength","arguments","iterable","templateSettings","evaluate","interpolate","noMatch","escapes","escaper","text","settings","matcher","join","index","match","offset","slice","variable","Function","e","hostname","s","o","g","r","a","m","getElementsByTagName","async","src","insertBefore","ga","redirect","href","findRoot","base","getFile","file","host","console","info","xhr","XMLHttpRequest","open","send","onload","responseText","Learn","learnJSON","config","framework","templates","todomvc","backend","frameworkJSON","issueLabel","append","fetchIssueCount","opts","aside","sourceLinks","heading","firstElementChild","sourceLink","lastElementChild","getAttribute","setAttribute","lastIndexOf","outerHTML","demoLinks","demoLink","body","insertAdjacentHTML","issueLink","getElementById","url","parsedResponse","count"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7781f39d52176495df28","require('./controller.js');\nrequire('./helpers.js');\nrequire('./model.js');\nrequire('./store.js');\nrequire('./template.js');\nrequire('./view.js');\nrequire('/Users/Yu/todomvc_re/node_modules/todomvc-common/base.js');\n/*global app, $on */\n(function () {\n\t'use strict';\n\n\t/**\n\t * Sets up a brand new Todo list.\n\t *\n\t * @param {string} name The name of your new to do list.\n\t */\n\tfunction Todo(name) {\n\t\tthis.storage = new app.Store(name);\n\t\tthis.model = new app.Model(this.storage);\n\t\tthis.template = new app.Template();\n\t\tthis.view = new app.View(this.template);\n\t\tthis.controller = new app.Controller(this.model, this.view);\n\t}\n\n\tvar todo = new Todo('todos-vanillajs');\n\n\tfunction setView() {\n\t\ttodo.controller.setView(document.location.hash);\n\t}\n\t$on(window, 'load', setView);\n\t$on(window, 'hashchange', setView);\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./js/app.js","(function (window) {\n\t'use strict';\n\n\t/**\n\t * Takes a model and view and acts as the controller between them\n\t *\n\t * @constructor\n\t * @param {object} model The model instance\n\t * @param {object} view The view instance\n\t */\n\tfunction Controller(model, view) {\n\t\tvar self = this;\n\t\tself.model = model;\n\t\tself.view = view;\n\n\t\tself.view.bind('newTodo', function (title) {\n\t\t\tself.addItem(title);\n\t\t});\n\n\t\tself.view.bind('itemEdit', function (item) {\n\t\t\tself.editItem(item.id);\n\t\t});\n\n\t\tself.view.bind('itemEditDone', function (item) {\n\t\t\tself.editItemSave(item.id, item.title);\n\t\t});\n\n\t\tself.view.bind('itemEditCancel', function (item) {\n\t\t\tself.editItemCancel(item.id);\n\t\t});\n\n\t\tself.view.bind('itemRemove', function (item) {\n\t\t\tself.removeItem(item.id);\n\t\t});\n\n\t\tself.view.bind('itemToggle', function (item) {\n\t\t\tself.toggleComplete(item.id, item.completed);\n\t\t});\n\n\t\tself.view.bind('removeCompleted', function () {\n\t\t\tself.removeCompletedItems();\n\t\t});\n\n\t\tself.view.bind('toggleAll', function (status) {\n\t\t\tself.toggleAll(status.completed);\n\t\t});\n\t}\n\n\t/**\n\t * Loads and initialises the view\n\t *\n\t * @param {string} '' | 'active' | 'completed'\n\t */\n\tController.prototype.setView = function (locationHash) {\n\t\tvar route = locationHash.split('/')[1];\n\t\tvar page = route || '';\n\t\tthis._updateFilterState(page);\n\t};\n\n\t/**\n\t * An event to fire on load. Will get all items and display them in the\n\t * todo-list\n\t */\n\tController.prototype.showAll = function () {\n\t\tvar self = this;\n\t\tself.model.read(function (data) {\n\t\t\tself.view.render('showEntries', data);\n\t\t});\n\t};\n\n\t/**\n\t * Renders all active tasks\n\t */\n\tController.prototype.showActive = function () {\n\t\tvar self = this;\n\t\tself.model.read({ completed: false }, function (data) {\n\t\t\tself.view.render('showEntries', data);\n\t\t});\n\t};\n\n\t/**\n\t * Renders all completed tasks\n\t */\n\tController.prototype.showCompleted = function () {\n\t\tvar self = this;\n\t\tself.model.read({ completed: true }, function (data) {\n\t\t\tself.view.render('showEntries', data);\n\t\t});\n\t};\n\n\t/**\n\t * An event to fire whenever you want to add an item. Simply pass in the event\n\t * object and it'll handle the DOM insertion and saving of the new item.\n\t */\n\tController.prototype.addItem = function (title) {\n\t\tvar self = this;\n\n\t\tif (title.trim() === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tself.model.create(title, function () {\n\t\t\tself.view.render('clearNewTodo');\n\t\t\tself._filter(true);\n\t\t});\n\t};\n\n\t/*\n\t * Triggers the item editing mode.\n\t */\n\tController.prototype.editItem = function (id) {\n\t\tvar self = this;\n\t\tself.model.read(id, function (data) {\n\t\t\tself.view.render('editItem', {id: id, title: data[0].title});\n\t\t});\n\t};\n\n\t/*\n\t * Finishes the item editing mode successfully.\n\t */\n\tController.prototype.editItemSave = function (id, title) {\n\t\tvar self = this;\n\t\ttitle = title.trim();\n\n\t\tif (title.length !== 0) {\n\t\t\tself.model.update(id, {title: title}, function () {\n\t\t\t\tself.view.render('editItemDone', {id: id, title: title});\n\t\t\t});\n\t\t} else {\n\t\t\tself.removeItem(id);\n\t\t}\n\t};\n\n\t/*\n\t * Cancels the item editing mode.\n\t */\n\tController.prototype.editItemCancel = function (id) {\n\t\tvar self = this;\n\t\tself.model.read(id, function (data) {\n\t\t\tself.view.render('editItemDone', {id: id, title: data[0].title});\n\t\t});\n\t};\n\n\t/**\n\t * By giving it an ID it'll find the DOM element matching that ID,\n\t * remove it from the DOM and also remove it from storage.\n\t *\n\t * @param {number} id The ID of the item to remove from the DOM and\n\t * storage\n\t */\n\tController.prototype.removeItem = function (id) {\n\t\tvar self = this;\n\t\tself.model.remove(id, function () {\n\t\t\tself.view.render('removeItem', id);\n\t\t});\n\n\t\tself._filter();\n\t};\n\n\t/**\n\t * Will remove all completed items from the DOM and storage.\n\t */\n\tController.prototype.removeCompletedItems = function () {\n\t\tvar self = this;\n\t\tself.model.read({ completed: true }, function (data) {\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tself.removeItem(item.id);\n\t\t\t});\n\t\t});\n\n\t\tself._filter();\n\t};\n\n\t/**\n\t * Give it an ID of a model and a checkbox and it will update the item\n\t * in storage based on the checkbox's state.\n\t *\n\t * @param {number} id The ID of the element to complete or uncomplete\n\t * @param {object} checkbox The checkbox to check the state of complete\n\t *                          or not\n\t * @param {boolean|undefined} silent Prevent re-filtering the todo items\n\t */\n\tController.prototype.toggleComplete = function (id, completed, silent) {\n\t\tvar self = this;\n\t\tself.model.update(id, { completed: completed }, function () {\n\t\t\tself.view.render('elementComplete', {\n\t\t\t\tid: id,\n\t\t\t\tcompleted: completed\n\t\t\t});\n\t\t});\n\n\t\tif (!silent) {\n\t\t\tself._filter();\n\t\t}\n\t};\n\n\t/**\n\t * Will toggle ALL checkboxes' on/off state and completeness of models.\n\t * Just pass in the event object.\n\t */\n\tController.prototype.toggleAll = function (completed) {\n\t\tvar self = this;\n\t\tself.model.read({ completed: !completed }, function (data) {\n\t\t\tdata.forEach(function (item) {\n\t\t\t\tself.toggleComplete(item.id, completed, true);\n\t\t\t});\n\t\t});\n\n\t\tself._filter();\n\t};\n\n\t/**\n\t * Updates the pieces of the page which change depending on the remaining\n\t * number of todos.\n\t */\n\tController.prototype._updateCount = function () {\n\t\tvar self = this;\n\t\tself.model.getCount(function (todos) {\n\t\t\tself.view.render('updateElementCount', todos.active);\n\t\t\tself.view.render('clearCompletedButton', {\n\t\t\t\tcompleted: todos.completed,\n\t\t\t\tvisible: todos.completed > 0\n\t\t\t});\n\n\t\t\tself.view.render('toggleAll', {checked: todos.completed === todos.total});\n\t\t\tself.view.render('contentBlockVisibility', {visible: todos.total > 0});\n\t\t});\n\t};\n\n\t/**\n\t * Re-filters the todo items, based on the active route.\n\t * @param {boolean|undefined} force  forces a re-painting of todo items.\n\t */\n\tController.prototype._filter = function (force) {\n\t\tvar activeRoute = this._activeRoute.charAt(0).toUpperCase() + this._activeRoute.substr(1);\n\n\t\t// Update the elements on the page, which change with each completed todo\n\t\tthis._updateCount();\n\n\t\t// If the last active route isn't \"All\", or we're switching routes, we\n\t\t// re-create the todo item elements, calling:\n\t\t//   this.show[All|Active|Completed]();\n\t\tif (force || this._lastActiveRoute !== 'All' || this._lastActiveRoute !== activeRoute) {\n\t\t\tthis['show' + activeRoute]();\n\t\t}\n\n\t\tthis._lastActiveRoute = activeRoute;\n\t};\n\n\t/**\n\t * Simply updates the filter nav's selected states\n\t */\n\tController.prototype._updateFilterState = function (currentPage) {\n\t\t// Store a reference to the active route, allowing us to re-filter todo\n\t\t// items as they are marked complete or incomplete.\n\t\tthis._activeRoute = currentPage;\n\n\t\tif (currentPage === '') {\n\t\t\tthis._activeRoute = 'All';\n\t\t}\n\n\t\tthis._filter();\n\n\t\tthis.view.render('setFilter', currentPage);\n\t};\n\n\t// Export to window\n\twindow.app = window.app || {};\n\twindow.app.Controller = Controller;\n})(window);\n\n\n\n// WEBPACK FOOTER //\n// ./js/controller.js","/*global NodeList */\n(function (window) {\n\t'use strict';\n\n\t// Get element(s) by CSS selector:\n\twindow.qs = function (selector, scope) {\n\t\treturn (scope || document).querySelector(selector);\n\t};\n\twindow.qsa = function (selector, scope) {\n\t\treturn (scope || document).querySelectorAll(selector);\n\t};\n\n\t// addEventListener wrapper:\n\twindow.$on = function (target, type, callback, useCapture) {\n\t\ttarget.addEventListener(type, callback, !!useCapture);\n\t};\n\n\t// Attach a handler to event for all elements that match the selector,\n\t// now or in the future, based on a root element\n\twindow.$delegate = function (target, selector, type, handler) {\n\t\tfunction dispatchEvent(event) {\n\t\t\tvar targetElement = event.target;\n\t\t\tvar potentialElements = window.qsa(selector, target);\n\t\t\tvar hasMatch = Array.prototype.indexOf.call(potentialElements, targetElement) >= 0;\n\n\t\t\tif (hasMatch) {\n\t\t\t\thandler.call(targetElement, event);\n\t\t\t}\n\t\t}\n\n\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/blur\n\t\tvar useCapture = type === 'blur' || type === 'focus';\n\n\t\twindow.$on(target, type, dispatchEvent, useCapture);\n\t};\n\n\t// Find the element's parent with the given tag name:\n\t// $parent(qs('a'), 'div');\n\twindow.$parent = function (element, tagName) {\n\t\tif (!element.parentNode) {\n\t\t\treturn;\n\t\t}\n\t\tif (element.parentNode.tagName.toLowerCase() === tagName.toLowerCase()) {\n\t\t\treturn element.parentNode;\n\t\t}\n\t\treturn window.$parent(element.parentNode, tagName);\n\t};\n\n\t// Allow for looping on nodes by chaining:\n\t// qsa('.foo').forEach(function () {})\n\tNodeList.prototype.forEach = Array.prototype.forEach;\n})(window);\n\n\n\n// WEBPACK FOOTER //\n// ./js/helpers.js","(function (window) {\n\t'use strict';\n\n\t/**\n\t * Creates a new Model instance and hooks up the storage.\n\t *\n\t * @constructor\n\t * @param {object} storage A reference to the client side storage class\n\t */\n\tfunction Model(storage) {\n\t\tthis.storage = storage;\n\t}\n\n\t/**\n\t * Creates a new todo model\n\t *\n\t * @param {string} [title] The title of the task\n\t * @param {function} [callback] The callback to fire after the model is created\n\t */\n\tModel.prototype.create = function (title, callback) {\n\t\ttitle = title || '';\n\t\tcallback = callback || function () {};\n\n\t\tvar newItem = {\n\t\t\ttitle: title.trim(),\n\t\t\tcompleted: false\n\t\t};\n\n\t\tthis.storage.save(newItem, callback);\n\t};\n\n\t/**\n\t * Finds and returns a model in storage. If no query is given it'll simply\n\t * return everything. If you pass in a string or number it'll look that up as\n\t * the ID of the model to find. Lastly, you can pass it an object to match\n\t * against.\n\t *\n\t * @param {string|number|object} [query] A query to match models against\n\t * @param {function} [callback] The callback to fire after the model is found\n\t *\n\t * @example\n\t * model.read(1, func); // Will find the model with an ID of 1\n\t * model.read('1'); // Same as above\n\t * //Below will find a model with foo equalling bar and hello equalling world.\n\t * model.read({ foo: 'bar', hello: 'world' });\n\t */\n\tModel.prototype.read = function (query, callback) {\n\t\tvar queryType = typeof query;\n\t\tcallback = callback || function () {};\n\n\t\tif (queryType === 'function') {\n\t\t\tcallback = query;\n\t\t\treturn this.storage.findAll(callback);\n\t\t} else if (queryType === 'string' || queryType === 'number') {\n\t\t\tquery = parseInt(query, 10);\n\t\t\tthis.storage.find({ id: query }, callback);\n\t\t} else {\n\t\t\tthis.storage.find(query, callback);\n\t\t}\n\t};\n\n\t/**\n\t * Updates a model by giving it an ID, data to update, and a callback to fire when\n\t * the update is complete.\n\t *\n\t * @param {number} id The id of the model to update\n\t * @param {object} data The properties to update and their new value\n\t * @param {function} callback The callback to fire when the update is complete.\n\t */\n\tModel.prototype.update = function (id, data, callback) {\n\t\tthis.storage.save(data, callback, id);\n\t};\n\n\t/**\n\t * Removes a model from storage\n\t *\n\t * @param {number} id The ID of the model to remove\n\t * @param {function} callback The callback to fire when the removal is complete.\n\t */\n\tModel.prototype.remove = function (id, callback) {\n\t\tthis.storage.remove(id, callback);\n\t};\n\n\t/**\n\t * WARNING: Will remove ALL data from storage.\n\t *\n\t * @param {function} callback The callback to fire when the storage is wiped.\n\t */\n\tModel.prototype.removeAll = function (callback) {\n\t\tthis.storage.drop(callback);\n\t};\n\n\t/**\n\t * Returns a count of all todos\n\t */\n\tModel.prototype.getCount = function (callback) {\n\t\tvar todos = {\n\t\t\tactive: 0,\n\t\t\tcompleted: 0,\n\t\t\ttotal: 0\n\t\t};\n\n\t\tthis.storage.findAll(function (data) {\n\t\t\tdata.forEach(function (todo) {\n\t\t\t\tif (todo.completed) {\n\t\t\t\t\ttodos.completed++;\n\t\t\t\t} else {\n\t\t\t\t\ttodos.active++;\n\t\t\t\t}\n\n\t\t\t\ttodos.total++;\n\t\t\t});\n\t\t\tcallback(todos);\n\t\t});\n\t};\n\n\t// Export to window\n\twindow.app = window.app || {};\n\twindow.app.Model = Model;\n})(window);\n\n\n\n// WEBPACK FOOTER //\n// ./js/model.js","/*jshint eqeqeq:false */\n(function (window) {\n\t'use strict';\n\n\t/**\n\t * Creates a new client side storage object and will create an empty\n\t * collection if no collection already exists.\n\t *\n\t * @param {string} name The name of our DB we want to use\n\t * @param {function} callback Our fake DB uses callbacks because in\n\t * real life you probably would be making AJAX calls\n\t */\n\tfunction Store(name, callback) {\n\t\tcallback = callback || function () {};\n\n\t\tthis._dbName = name;\n\n\t\tif (!localStorage[name]) {\n\t\t\tvar data = {\n\t\t\t\ttodos: []\n\t\t\t};\n\n\t\t\tlocalStorage[name] = JSON.stringify(data);\n\t\t}\n\n\t\tcallback.call(this, JSON.parse(localStorage[name]));\n\t}\n\n\t/**\n\t * Finds items based on a query given as a JS object\n\t *\n\t * @param {object} query The query to match against (i.e. {foo: 'bar'})\n\t * @param {function} callback\t The callback to fire when the query has\n\t * completed running\n\t *\n\t * @example\n\t * db.find({foo: 'bar', hello: 'world'}, function (data) {\n\t *\t // data will return any items that have foo: bar and\n\t *\t // hello: world in their properties\n\t * });\n\t */\n\tStore.prototype.find = function (query, callback) {\n\t\tif (!callback) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar todos = JSON.parse(localStorage[this._dbName]).todos;\n\n\t\tcallback.call(this, todos.filter(function (todo) {\n\t\t\tfor (var q in query) {\n\t\t\t\tif (query[q] !== todo[q]) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}));\n\t};\n\n\t/**\n\t * Will retrieve all data from the collection\n\t *\n\t * @param {function} callback The callback to fire upon retrieving data\n\t */\n\tStore.prototype.findAll = function (callback) {\n\t\tcallback = callback || function () {};\n\t\tcallback.call(this, JSON.parse(localStorage[this._dbName]).todos);\n\t};\n\n\t/**\n\t * Will save the given data to the DB. If no item exists it will create a new\n\t * item, otherwise it'll simply update an existing item's properties\n\t *\n\t * @param {object} updateData The data to save back into the DB\n\t * @param {function} callback The callback to fire after saving\n\t * @param {number} id An optional param to enter an ID of an item to update\n\t */\n\tStore.prototype.save = function (updateData, callback, id) {\n\t\tvar data = JSON.parse(localStorage[this._dbName]);\n\t\tvar todos = data.todos;\n\n\t\tcallback = callback || function () {};\n\n\t\t// If an ID was actually given, find the item and update each property\n\t\tif (id) {\n\t\t\tfor (var i = 0; i < todos.length; i++) {\n\t\t\t\tif (todos[i].id === id) {\n\t\t\t\t\tfor (var key in updateData) {\n\t\t\t\t\t\ttodos[i][key] = updateData[key];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlocalStorage[this._dbName] = JSON.stringify(data);\n\t\t\tcallback.call(this, todos);\n\t\t} else {\n\t\t\t// Generate an ID\n\t\t\tupdateData.id = new Date().getTime();\n\n\t\t\ttodos.push(updateData);\n\t\t\tlocalStorage[this._dbName] = JSON.stringify(data);\n\t\t\tcallback.call(this, [updateData]);\n\t\t}\n\t};\n\n\t/**\n\t * Will remove an item from the Store based on its ID\n\t *\n\t * @param {number} id The ID of the item you want to remove\n\t * @param {function} callback The callback to fire after saving\n\t */\n\tStore.prototype.remove = function (id, callback) {\n\t\tvar data = JSON.parse(localStorage[this._dbName]);\n\t\tvar todos = data.todos;\n\n\t\tfor (var i = 0; i < todos.length; i++) {\n\t\t\tif (todos[i].id == id) {\n\t\t\t\ttodos.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlocalStorage[this._dbName] = JSON.stringify(data);\n\t\tcallback.call(this, todos);\n\t};\n\n\t/**\n\t * Will drop all storage and start fresh\n\t *\n\t * @param {function} callback The callback to fire after dropping the data\n\t */\n\tStore.prototype.drop = function (callback) {\n\t\tvar data = {todos: []};\n\t\tlocalStorage[this._dbName] = JSON.stringify(data);\n\t\tcallback.call(this, data.todos);\n\t};\n\n\t// Export to window\n\twindow.app = window.app || {};\n\twindow.app.Store = Store;\n})(window);\n\n\n\n// WEBPACK FOOTER //\n// ./js/store.js","/*jshint laxbreak:true */\n(function (window) {\n\t'use strict';\n\n\tvar htmlEscapes = {\n\t\t'&': '&amp;',\n\t\t'<': '&lt;',\n\t\t'>': '&gt;',\n\t\t'\"': '&quot;',\n\t\t'\\'': '&#x27;',\n\t\t'`': '&#x60;'\n\t};\n\n\tvar escapeHtmlChar = function (chr) {\n\t\treturn htmlEscapes[chr];\n\t};\n\n\tvar reUnescapedHtml = /[&<>\"'`]/g;\n\tvar reHasUnescapedHtml = new RegExp(reUnescapedHtml.source);\n\n\tvar escape = function (string) {\n\t\treturn (string && reHasUnescapedHtml.test(string))\n\t\t\t? string.replace(reUnescapedHtml, escapeHtmlChar)\n\t\t\t: string;\n\t};\n\n\t/**\n\t * Sets up defaults for all the Template methods such as a default template\n\t *\n\t * @constructor\n\t */\n\tfunction Template() {\n\t\tthis.defaultTemplate\n\t\t=\t'<li data-id=\"{{id}}\" class=\"{{completed}}\">'\n\t\t+\t\t'<div class=\"view\">'\n\t\t+\t\t\t'<input class=\"toggle\" type=\"checkbox\" {{checked}}>'\n\t\t+\t\t\t'<label>{{title}}</label>'\n\t\t+\t\t\t'<button class=\"destroy\"></button>'\n\t\t+\t\t'</div>'\n\t\t+\t'</li>';\n\t}\n\n\t/**\n\t * Creates an <li> HTML string and returns it for placement in your app.\n\t *\n\t * NOTE: In real life you should be using a templating engine such as Mustache\n\t * or Handlebars, however, this is a vanilla JS example.\n\t *\n\t * @param {object} data The object containing keys you want to find in the\n\t *                      template to replace.\n\t * @returns {string} HTML String of an <li> element\n\t *\n\t * @example\n\t * view.show({\n\t *\tid: 1,\n\t *\ttitle: \"Hello World\",\n\t *\tcompleted: 0,\n\t * });\n\t */\n\tTemplate.prototype.show = function (data) {\n\t\tvar i, l;\n\t\tvar view = '';\n\n\t\tfor (i = 0, l = data.length; i < l; i++) {\n\t\t\tvar template = this.defaultTemplate;\n\t\t\tvar completed = '';\n\t\t\tvar checked = '';\n\n\t\t\tif (data[i].completed) {\n\t\t\t\tcompleted = 'completed';\n\t\t\t\tchecked = 'checked';\n\t\t\t}\n\n\t\t\ttemplate = template.replace('{{id}}', data[i].id);\n\t\t\ttemplate = template.replace('{{title}}', escape(data[i].title));\n\t\t\ttemplate = template.replace('{{completed}}', completed);\n\t\t\ttemplate = template.replace('{{checked}}', checked);\n\n\t\t\tview = view + template;\n\t\t}\n\n\t\treturn view;\n\t};\n\n\t/**\n\t * Displays a counter of how many to dos are left to complete\n\t *\n\t * @param {number} activeTodos The number of active todos.\n\t * @returns {string} String containing the count\n\t */\n\tTemplate.prototype.itemCounter = function (activeTodos) {\n\t\tvar plural = activeTodos === 1 ? '' : 's';\n\n\t\treturn '<strong>' + activeTodos + '</strong> item' + plural + ' left';\n\t};\n\n\t/**\n\t * Updates the text within the \"Clear completed\" button\n\t *\n\t * @param  {[type]} completedTodos The number of completed todos.\n\t * @returns {string} String containing the count\n\t */\n\tTemplate.prototype.clearCompletedButton = function (completedTodos) {\n\t\tif (completedTodos > 0) {\n\t\t\treturn 'Clear completed';\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t};\n\n\t// Export to window\n\twindow.app = window.app || {};\n\twindow.app.Template = Template;\n})(window);\n\n\n\n// WEBPACK FOOTER //\n// ./js/template.js","/*global qs, qsa, $on, $parent, $delegate */\n\n(function (window) {\n\t'use strict';\n\n\t/**\n\t     * View that abstracts away the browser's DOM completely.\n\t     * It has two simple entry points:\n\t     *\n\t     *   - bind(eventName, handler)\n\t     *     Takes a todo application event and registers the handler\n\t     *   - render(command, parameterObject)\n\t     *     Renders the given command with the options\n\t     */\n\tfunction View(template) {\n\t\tthis.template = template;\n\n\t\tthis.ENTER_KEY = 13;\n\t\tthis.ESCAPE_KEY = 27;\n\n\t\tthis.$todoList = qs('.todo-list');\n\t\tthis.$todoItemCounter = qs('.todo-count');\n\t\tthis.$clearCompleted = qs('.clear-completed');\n\t\tthis.$main = qs('.main');\n\t\tthis.$footer = qs('.footer');\n\t\tthis.$toggleAll = qs('.toggle-all');\n\t\tthis.$newTodo = qs('.new-todo');\n\t}\n\n\tView.prototype._removeItem = function (id) {\n\t\tvar elem = qs('[data-id=\"' + id + '\"]');\n\n\t\tif (elem) {\n\t\t\tthis.$todoList.removeChild(elem);\n\t\t}\n\t};\n\n\tView.prototype._clearCompletedButton = function (completedCount, visible) {\n\t\tthis.$clearCompleted.innerHTML = this.template.clearCompletedButton(completedCount);\n\t\tthis.$clearCompleted.style.display = visible ? 'block' : 'none';\n\t};\n\n\tView.prototype._setFilter = function (currentPage) {\n\t\tqs('.filters .selected').className = '';\n\t\tqs('.filters [href=\"#/' + currentPage + '\"]').className = 'selected';\n\t};\n\n\tView.prototype._elementComplete = function (id, completed) {\n\t\tvar listItem = qs('[data-id=\"' + id + '\"]');\n\n\t\tif (!listItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tlistItem.className = completed ? 'completed' : '';\n\n\t\t// In case it was toggled from an event and not by clicking the checkbox\n\t\tqs('input', listItem).checked = completed;\n\t};\n\n\tView.prototype._editItem = function (id, title) {\n\t\tvar listItem = qs('[data-id=\"' + id + '\"]');\n\n\t\tif (!listItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tlistItem.className = listItem.className + ' editing';\n\n\t\tvar input = document.createElement('input');\n\t\tinput.className = 'edit';\n\n\t\tlistItem.appendChild(input);\n\t\tinput.focus();\n\t\tinput.value = title;\n\t};\n\n\tView.prototype._editItemDone = function (id, title) {\n\t\tvar listItem = qs('[data-id=\"' + id + '\"]');\n\n\t\tif (!listItem) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar input = qs('input.edit', listItem);\n\t\tlistItem.removeChild(input);\n\n\t\tlistItem.className = listItem.className.replace('editing', '');\n\n\t\tqsa('label', listItem).forEach(function (label) {\n\t\t\tlabel.textContent = title;\n\t\t});\n\t};\n\n\tView.prototype.render = function (viewCmd, parameter) {\n\t\tvar self = this;\n\t\tvar viewCommands = {\n\t\t\tshowEntries: function () {\n\t\t\t\tself.$todoList.innerHTML = self.template.show(parameter);\n\t\t\t},\n\t\t\tremoveItem: function () {\n\t\t\t\tself._removeItem(parameter);\n\t\t\t},\n\t\t\tupdateElementCount: function () {\n\t\t\t\tself.$todoItemCounter.innerHTML = self.template.itemCounter(parameter);\n\t\t\t},\n\t\t\tclearCompletedButton: function () {\n\t\t\t\tself._clearCompletedButton(parameter.completed, parameter.visible);\n\t\t\t},\n\t\t\tcontentBlockVisibility: function () {\n\t\t\t\tself.$main.style.display = self.$footer.style.display = parameter.visible ? 'block' : 'none';\n\t\t\t},\n\t\t\ttoggleAll: function () {\n\t\t\t\tself.$toggleAll.checked = parameter.checked;\n\t\t\t},\n\t\t\tsetFilter: function () {\n\t\t\t\tself._setFilter(parameter);\n\t\t\t},\n\t\t\tclearNewTodo: function () {\n\t\t\t\tself.$newTodo.value = '';\n\t\t\t},\n\t\t\telementComplete: function () {\n\t\t\t\tself._elementComplete(parameter.id, parameter.completed);\n\t\t\t},\n\t\t\teditItem: function () {\n\t\t\t\tself._editItem(parameter.id, parameter.title);\n\t\t\t},\n\t\t\teditItemDone: function () {\n\t\t\t\tself._editItemDone(parameter.id, parameter.title);\n\t\t\t}\n\t\t};\n\n\t\tviewCommands[viewCmd]();\n\t};\n\n\tView.prototype._itemId = function (element) {\n\t\tvar li = $parent(element, 'li');\n\t\treturn parseInt(li.dataset.id, 10);\n\t};\n\n\tView.prototype._bindItemEditDone = function (handler) {\n\t\tvar self = this;\n\t\t$delegate(self.$todoList, 'li .edit', 'blur', function () {\n\t\t\tif (!this.dataset.iscanceled) {\n\t\t\t\thandler({\n\t\t\t\t\tid: self._itemId(this),\n\t\t\t\t\ttitle: this.value\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t$delegate(self.$todoList, 'li .edit', 'keypress', function (event) {\n\t\t\tif (event.keyCode === self.ENTER_KEY) {\n\t\t\t\t// Remove the cursor from the input when you hit enter just like if it\n\t\t\t\t// were a real form\n\t\t\t\tthis.blur();\n\t\t\t}\n\t\t});\n\t};\n\n\tView.prototype._bindItemEditCancel = function (handler) {\n\t\tvar self = this;\n\t\t$delegate(self.$todoList, 'li .edit', 'keyup', function (event) {\n\t\t\tif (event.keyCode === self.ESCAPE_KEY) {\n\t\t\t\tthis.dataset.iscanceled = true;\n\t\t\t\tthis.blur();\n\n\t\t\t\thandler({id: self._itemId(this)});\n\t\t\t}\n\t\t});\n\t};\n\n\tView.prototype.bind = function (event, handler) {\n\t\tvar self = this;\n\t\tif (event === 'newTodo') {\n\t\t\t$on(self.$newTodo, 'change', function () {\n\t\t\t\thandler(self.$newTodo.value);\n\t\t\t});\n\n\t\t} else if (event === 'removeCompleted') {\n\t\t\t$on(self.$clearCompleted, 'click', function () {\n\t\t\t\thandler();\n\t\t\t});\n\n\t\t} else if (event === 'toggleAll') {\n\t\t\t$on(self.$toggleAll, 'click', function () {\n\t\t\t\thandler({completed: this.checked});\n\t\t\t});\n\n\t\t} else if (event === 'itemEdit') {\n\t\t\t$delegate(self.$todoList, 'li label', 'dblclick', function () {\n\t\t\t\thandler({id: self._itemId(this)});\n\t\t\t});\n\n\t\t} else if (event === 'itemRemove') {\n\t\t\t$delegate(self.$todoList, '.destroy', 'click', function () {\n\t\t\t\thandler({id: self._itemId(this)});\n\t\t\t});\n\n\t\t} else if (event === 'itemToggle') {\n\t\t\t$delegate(self.$todoList, '.toggle', 'click', function () {\n\t\t\t\thandler({\n\t\t\t\t\tid: self._itemId(this),\n\t\t\t\t\tcompleted: this.checked\n\t\t\t\t});\n\t\t\t});\n\n\t\t} else if (event === 'itemEditDone') {\n\t\t\tself._bindItemEditDone(handler);\n\n\t\t} else if (event === 'itemEditCancel') {\n\t\t\tself._bindItemEditCancel(handler);\n\t\t}\n\t};\n\n\t// Export to window\n\twindow.app = window.app || {};\n\twindow.app.View = View;\n}(window));\n\n\n\n// WEBPACK FOOTER //\n// ./js/view.js","/* global _ */\n(function () {\n\t'use strict';\n\n\t/* jshint ignore:start */\n\t// Underscore's Template Module\n\t// Courtesy of underscorejs.org\n\tvar _ = (function (_) {\n\t\t_.defaults = function (object) {\n\t\t\tif (!object) {\n\t\t\t\treturn object;\n\t\t\t}\n\t\t\tfor (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n\t\t\t\tvar iterable = arguments[argsIndex];\n\t\t\t\tif (iterable) {\n\t\t\t\t\tfor (var key in iterable) {\n\t\t\t\t\t\tif (object[key] == null) {\n\t\t\t\t\t\t\tobject[key] = iterable[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn object;\n\t\t}\n\n\t\t// By default, Underscore uses ERB-style template delimiters, change the\n\t\t// following template settings to use alternative delimiters.\n\t\t_.templateSettings = {\n\t\t\tevaluate    : /<%([\\s\\S]+?)%>/g,\n\t\t\tinterpolate : /<%=([\\s\\S]+?)%>/g,\n\t\t\tescape      : /<%-([\\s\\S]+?)%>/g\n\t\t};\n\n\t\t// When customizing `templateSettings`, if you don't want to define an\n\t\t// interpolation, evaluation or escaping regex, we need one that is\n\t\t// guaranteed not to match.\n\t\tvar noMatch = /(.)^/;\n\n\t\t// Certain characters need to be escaped so that they can be put into a\n\t\t// string literal.\n\t\tvar escapes = {\n\t\t\t\"'\":      \"'\",\n\t\t\t'\\\\':     '\\\\',\n\t\t\t'\\r':     'r',\n\t\t\t'\\n':     'n',\n\t\t\t'\\t':     't',\n\t\t\t'\\u2028': 'u2028',\n\t\t\t'\\u2029': 'u2029'\n\t\t};\n\n\t\tvar escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n\t\t// JavaScript micro-templating, similar to John Resig's implementation.\n\t\t// Underscore templating handles arbitrary delimiters, preserves whitespace,\n\t\t// and correctly escapes quotes within interpolated code.\n\t\t_.template = function(text, data, settings) {\n\t\t\tvar render;\n\t\t\tsettings = _.defaults({}, settings, _.templateSettings);\n\n\t\t\t// Combine delimiters into one regular expression via alternation.\n\t\t\tvar matcher = new RegExp([\n\t\t\t\t(settings.escape || noMatch).source,\n\t\t\t\t(settings.interpolate || noMatch).source,\n\t\t\t\t(settings.evaluate || noMatch).source\n\t\t\t].join('|') + '|$', 'g');\n\n\t\t\t// Compile the template source, escaping string literals appropriately.\n\t\t\tvar index = 0;\n\t\t\tvar source = \"__p+='\";\n\t\t\ttext.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n\t\t\t\tsource += text.slice(index, offset)\n\t\t\t\t\t.replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n\t\t\t\tif (escape) {\n\t\t\t\t\tsource += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n\t\t\t\t}\n\t\t\t\tif (interpolate) {\n\t\t\t\t\tsource += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n\t\t\t\t}\n\t\t\t\tif (evaluate) {\n\t\t\t\t\tsource += \"';\\n\" + evaluate + \"\\n__p+='\";\n\t\t\t\t}\n\t\t\t\tindex = offset + match.length;\n\t\t\t\treturn match;\n\t\t\t});\n\t\t\tsource += \"';\\n\";\n\n\t\t\t// If a variable is not specified, place data values in local scope.\n\t\t\tif (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n\t\t\tsource = \"var __t,__p='',__j=Array.prototype.join,\" +\n\t\t\t\t\"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n\t\t\t\tsource + \"return __p;\\n\";\n\n\t\t\ttry {\n\t\t\t\trender = new Function(settings.variable || 'obj', '_', source);\n\t\t\t} catch (e) {\n\t\t\t\te.source = source;\n\t\t\t\tthrow e;\n\t\t\t}\n\n\t\t\tif (data) return render(data, _);\n\t\t\tvar template = function(data) {\n\t\t\t\treturn render.call(this, data, _);\n\t\t\t};\n\n\t\t\t// Provide the compiled function source as a convenience for precompilation.\n\t\t\ttemplate.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n\t\t\treturn template;\n\t\t};\n\n\t\treturn _;\n\t})({});\n\n\tif (location.hostname === 'todomvc.com') {\n\t\t(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n\t\t(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\t\tm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n\t\t})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\t\tga('create', 'UA-31081062-1', 'auto');\n\t\tga('send', 'pageview');\n\t}\n\t/* jshint ignore:end */\n\n\tfunction redirect() {\n\t\tif (location.hostname === 'tastejs.github.io') {\n\t\t\tlocation.href = location.href.replace('tastejs.github.io/todomvc', 'todomvc.com');\n\t\t}\n\t}\n\n\tfunction findRoot() {\n\t\tvar base = location.href.indexOf('examples/');\n\t\treturn location.href.substr(0, base);\n\t}\n\n\tfunction getFile(file, callback) {\n\t\tif (!location.host) {\n\t\t\treturn console.info('Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.');\n\t\t}\n\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\txhr.open('GET', findRoot() + file, true);\n\t\txhr.send();\n\n\t\txhr.onload = function () {\n\t\t\tif (xhr.status === 200 && callback) {\n\t\t\t\tcallback(xhr.responseText);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction Learn(learnJSON, config) {\n\t\tif (!(this instanceof Learn)) {\n\t\t\treturn new Learn(learnJSON, config);\n\t\t}\n\n\t\tvar template, framework;\n\n\t\tif (typeof learnJSON !== 'object') {\n\t\t\ttry {\n\t\t\t\tlearnJSON = JSON.parse(learnJSON);\n\t\t\t} catch (e) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (config) {\n\t\t\ttemplate = config.template;\n\t\t\tframework = config.framework;\n\t\t}\n\n\t\tif (!template && learnJSON.templates) {\n\t\t\ttemplate = learnJSON.templates.todomvc;\n\t\t}\n\n\t\tif (!framework && document.querySelector('[data-framework]')) {\n\t\t\tframework = document.querySelector('[data-framework]').dataset.framework;\n\t\t}\n\n\t\tthis.template = template;\n\n\t\tif (learnJSON.backend) {\n\t\t\tthis.frameworkJSON = learnJSON.backend;\n\t\t\tthis.frameworkJSON.issueLabel = framework;\n\t\t\tthis.append({\n\t\t\t\tbackend: true\n\t\t\t});\n\t\t} else if (learnJSON[framework]) {\n\t\t\tthis.frameworkJSON = learnJSON[framework];\n\t\t\tthis.frameworkJSON.issueLabel = framework;\n\t\t\tthis.append();\n\t\t}\n\n\t\tthis.fetchIssueCount();\n\t}\n\n\tLearn.prototype.append = function (opts) {\n\t\tvar aside = document.createElement('aside');\n\t\taside.innerHTML = _.template(this.template, this.frameworkJSON);\n\t\taside.className = 'learn';\n\n\t\tif (opts && opts.backend) {\n\t\t\t// Remove demo link\n\t\t\tvar sourceLinks = aside.querySelector('.source-links');\n\t\t\tvar heading = sourceLinks.firstElementChild;\n\t\t\tvar sourceLink = sourceLinks.lastElementChild;\n\t\t\t// Correct link path\n\t\t\tvar href = sourceLink.getAttribute('href');\n\t\t\tsourceLink.setAttribute('href', href.substr(href.lastIndexOf('http')));\n\t\t\tsourceLinks.innerHTML = heading.outerHTML + sourceLink.outerHTML;\n\t\t} else {\n\t\t\t// Localize demo links\n\t\t\tvar demoLinks = aside.querySelectorAll('.demo-link');\n\t\t\tArray.prototype.forEach.call(demoLinks, function (demoLink) {\n\t\t\t\tif (demoLink.getAttribute('href').substr(0, 4) !== 'http') {\n\t\t\t\t\tdemoLink.setAttribute('href', findRoot() + demoLink.getAttribute('href'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tdocument.body.className = (document.body.className + ' learn-bar').trim();\n\t\tdocument.body.insertAdjacentHTML('afterBegin', aside.outerHTML);\n\t};\n\n\tLearn.prototype.fetchIssueCount = function () {\n\t\tvar issueLink = document.getElementById('issue-count-link');\n\t\tif (issueLink) {\n\t\t\tvar url = issueLink.href.replace('https://github.com', 'https://api.github.com/repos');\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', url, true);\n\t\t\txhr.onload = function (e) {\n\t\t\t\tvar parsedResponse = JSON.parse(e.target.responseText);\n\t\t\t\tif (parsedResponse instanceof Array) {\n\t\t\t\t\tvar count = parsedResponse.length;\n\t\t\t\t\tif (count !== 0) {\n\t\t\t\t\t\tissueLink.innerHTML = 'This app has ' + count + ' open issues';\n\t\t\t\t\t\tdocument.getElementById('issue-count').style.display = 'inline';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\txhr.send();\n\t\t}\n\t};\n\n\tredirect();\n\tgetFile('learn.json', Learn);\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/todomvc-common/base.js"],"sourceRoot":""}